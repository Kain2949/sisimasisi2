<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raf game</title>

  <link rel="preconnect" href="https://telegram.org" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>
<body class="booting">
  <!-- –ü–†–û–¶–ï–î–£–†–ù–û–ï –†–ê–ó–ë–ò–¢–û–ï –°–¢–ï–ö–õ–û (CSS-only) -->
  <div id="glass" aria-hidden="true"></div>

  <div id="app">
    <div class="stage" id="stage">
      <!-- –õ–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: —Ñ–æ–Ω + —Ç–µ–∫—Å—Ç -->
      <div class="pane">
        <div class="card glass platform" id="desc">
          <img id="bgImg" alt="" />
          <div class="text"><span id="descText">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</span></div>

          <!-- HUD: —Å–ª–µ–≤–∞ —Ç–∞–π–º–µ—Ä, —Å–ø—Ä–∞–≤–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –∫—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é -->
          <div class="hudbar">
            <div id="timer" class="timer">00:00</div>
            <button id="menuBtn" class="hud-menu" aria-label="–ú–µ–Ω—é" title="–ú–µ–Ω—é">‚â°</button>
          </div>
        </div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –≤–∞—Ä–∏–∞–Ω—Ç—ã -->
      <div class="pane">
        <div class="card glass platform">
          <div class="stack" id="options"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div id="boot" class="boot" aria-live="polite">
    <div class="boot-box glass">
      <div class="boot-title">–ì–æ—Ç–æ–≤–ª—é —Ñ–æ–Ω‚Ä¶</div>
      <div class="boot-progress"><div id="bootBar"></div></div>
      <div class="boot-meta">
        <span id="bootPct">0%</span><span>¬∑</span><span id="bootCount">0/0</span>
      </div>
    </div>
  </div>

  <!-- ¬´–í–µ–∫–∏¬ª -->
  <div class="eyelid top" id="eyelidTop"></div>
  <div class="eyelid bot" id="eyelidBot"></div>

  <!-- –î–∏–∞–ª–æ–≥–∏ -->
  <dialog id="invDlg">
    <button class="close" id="invClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å"
            onclick="document.getElementById('invDlg').close()">‚úï</button>
    <div class="dlg-body glass">
      <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
      <div id="invList" class="list"></div>
    </div>
  </dialog>

  <dialog id="flagsDlg">
    <button class="close" id="flagsClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å"
            onclick="document.getElementById('flagsDlg').close()">‚úï</button>
    <div class="dlg-body glass">
      <h3>–§–ª–∞–≥–∏</h3>
      <div id="flagsList" class="list"></div>
    </div>
  </dialog>

  <!-- –ì–õ–ê–í–ù–û–ï –û–í–ï–†–õ–ï–ô: –º–µ–Ω—é/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–∏–¥–µ—Ä–±–æ—Ä–¥/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <div id="overlay" class="overlay hidden">
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="menuPanel" class="panel hidden glass heavy">
      <div class="brand">
        <!-- –ª–æ–≥–æ—Ç–∏–ø –¥—É–≥–æ–π —Å –º–µ–Ω—å—à–∏–º –∏–∑–≥–∏–±–æ–º -->
        <svg class="brand-svg" viewBox="0 0 600 220" aria-hidden="true">
          <defs>
            <linearGradient id="grad" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#cfe2ff"/>
              <stop offset="1" stop-color="#ffffff"/>
            </linearGradient>
            <!-- –ª—ë–≥–∫–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç -->
            <filter id="innerGlow" x="-30%" y="-30%" width="160%" height="160%">
              <feGaussianBlur stdDeviation="2" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <!-- –º–µ–Ω—å—à–∞—è –¥—É–≥–∞ -->
          <path id="arc" d="M60,150 C200,95 400,95 540,150" fill="none" stroke="none"/>
          <text fill="url(#grad)" class="brand-text" filter="url(#innerGlow)">
            <textPath href="#arc" startOffset="50%" text-anchor="middle">Raf Game</textPath>
          </text>
        </svg>
      </div>

      <div class="menu-col">
        <button id="btnStart" class="cta glass-btn">–ù–∞—á–∞—Ç—å</button>
        <button id="btnContinue" class="cta ghost glass-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      </div>
      <div class="menu-bottom">
        <button id="btnLeaderboard" class="round glass-btn" title="–õ–∏–¥–µ—Ä–±–æ—Ä–¥">üèÜ</button>
        <button id="btnSettings" class="round glass-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      </div>
    </div>

    <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
    <div id="regPanel" class="panel hidden glass">
      <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
      <div class="form">
        <label>–ù–∏–∫–Ω–µ–π–º
          <input id="regNick" type="text" maxlength="24" placeholder="—Ç–≤–æ–π –Ω–∏–∫" />
        </label>

        <label>–¢–µ–≥ –≤ Telegram (—Å @)
          <input id="regTag" type="text" maxlength="32" placeholder="@kain2949" />
        </label>

        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–æ–ª–∞: –¥–≤–µ –∫–Ω–æ–ø–∫–∏ -->
        <div class="gender-toggle" id="regGender">
          <span>–ü–æ–ª</span>
          <div class="pills">
            <button type="button" class="pill glass-btn" data-val="m" id="btnMale">–ú—É–∂—Å–∫–æ–π</button>
            <button type="button" class="pill glass-btn" data-val="f" id="btnFemale">–ñ–µ–Ω—Å–∫–∏–π</button>
          </div>
        </div>

        <div class="dual">
          <button id="btnSendCode" class="btn glass-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥</button>
          <input id="regCode" type="text" inputmode="numeric" maxlength="6" placeholder="–∫–æ–¥ –∏–∑ –±–æ—Ç–∞" />
          <button id="btnVerify" class="btn quiet glass-btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
        <div id="regMsg" class="muted"></div>
      </div>
    </div>

    <!-- –õ–∏–¥–µ—Ä–±–æ—Ä–¥ -->
    <div id="lbPanel" class="panel hidden glass">
      <h2>–õ–∏–¥–µ—Ä–±–æ—Ä–¥</h2>
      <div class="lb-list" id="lbList"></div>
      <div style="margin-top:12px; display:flex; justify-content:flex-end;">
        <button class="btn quiet glass-btn" id="lbBack">–ù–∞–∑–∞–¥</button>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <div id="settingsPanel" class="panel hidden glass">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <div class="form">
        <label class="row between">
          <span>–ü–æ–º–µ—Ö–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö</span>
          <input id="fxEnable" type="checkbox" />
        </label>
        <label>
          –®–∞–Ω—Å –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–º–µ—Ö, %
          <input id="fxChance" type="range" min="0" max="100" step="5" />
          <div class="muted" id="fxChanceVal">50%</div>
        </label>
      </div>
      <div style="margin-top:12px; display:flex; justify-content:flex-end;">
        <button class="btn quiet glass-btn" id="settingsBack">–ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>

  <!-- –í–ù–£–¢–†–ò–ò–ì–†–û–í–û–ï –ú–ï–ù–Æ -->
  <div id="ingameOverlay" class="overlay hidden">
    <div class="panel small glass heavy">
      <button class="close close-gm" id="gmClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å"
              onclick="document.getElementById('ingameOverlay').classList.add('hidden');document.body.classList.remove('looking-down')">‚úï</button>
      <div class="vstack">
        <button id="gmInventory" class="btn glass-btn">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
        <button id="gmFlags" class="btn glass-btn">–§–ª–∞–≥–∏</button>
        <button id="gmSaveExit" class="btn warn glass-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏ –≤ –º–µ–Ω—é</button>
      </div>
    </div>
  </div>

  <!-- FX canvas –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω app.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->

  <script src="app.js"></script>
</body>
</html>
